"use strict";(self.webpackChunkreact_countries=self.webpackChunkreact_countries||[]).push([[848],{7522:function(e,n,r){r.d(n,{v9:function(){return f},C5:function(){return d},mx:function(){return m},Ik:function(){return v},x6:function(){return g}});var t,a,o,i,l=r(8687);function u(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function c(e,n,r,t,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?n(u):Promise.resolve(u).then(t,a)}function s(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){c(o,t,a,i,l,"next",e)}function l(e){c(o,t,a,i,l,"throw",e)}i(void 0)}))}}var p="https://react-countries-backend-production.up.railway.app/graphql",f=function(){var e=s(regeneratorRuntime.mark((function e(n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.request)(p,(0,l.gql)(t||(t=u(["\n        query {\n            getAllCountries(offset:",",limit:",") {\n                name,population,region,capital,alpha2Code, flags {png}\n            }\n        }\n    "])),n,r));case 2:return a=e.sent,e.abrupt("return",a.getAllCountries);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),d=function(){var e=s(regeneratorRuntime.mark((function e(){var n,r,t,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1&&void 0!==o[1]?o[1]:"",e.prev=2,e.next=5,(0,l.request)(p,(0,l.gql)(a||(a=u(['\n            query {\n                getCountriesByParams(name:"','",region:"','") {\n                    name,population,region,capital,alpha2Code, flags {png}\n                }\n            }\n        '])),n,r));case 5:return t=e.sent,e.abrupt("return",t.getCountriesByParams);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{error:!0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=s(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.request)(p,(0,l.gql)(o||(o=u(['\n            query {\n                getCountryByAlpha(id:"','") {\n                    name,borders,flags {svg},nativeName,population,region,subregion,capital,languages {name},topLevelDomain,currencies {name}\n                }\n            }\n        '])),n));case 2:return r=e.sent,e.abrupt("return",r.getCountryByAlpha);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=s(regeneratorRuntime.mark((function e(n){var r,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.join(","),console.log(r),e.next=4,(0,l.request)(p,(0,l.gql)(i||(i=u(['\n        query {\n            getCountriesName(countries:"','") {\n                alpha2Code,name\n            }\n        }\n    '])),r));case 4:return t=e.sent,e.abrupt("return",t.getCountriesName);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},5848:function(e,n,r){r.r(n),r.d(n,{default:function(){return X}});var t,a,o,i,l=r(7294),u=r(405),c=r(8767),s=r(9711),p=r(7522),f=r(1288);function d(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var m,v,g,h,b=function(e){var n=e.flags,r=e.name,t=e.population,a=e.region,o=e.capital,i=e.alpha2Code;return l.createElement(s.rU,{to:"/".concat(i)},l.createElement(y,null,l.createElement(x,null,l.createElement("img",{alt:r,src:"".concat(n.png)})),l.createElement(w,null,l.createElement("h3",null,r),l.createElement(E,null,l.createElement("p",null,"Population: ",l.createElement("span",null,(0,p.x6)(t))),l.createElement("p",null,"Region: ",l.createElement("span",null,a)),l.createElement("p",null,"Capital: ",l.createElement("span",null,o))))))},y=f.ZP.div(t||(t=d(["\n    display: flex;\n    flex-direction:column;\n    background-color: var(--color-bg);\n    box-shadow:var(--shadow);\n    border-radius: 9px;\n\n"]))),x=f.ZP.div(a||(a=d(["\n    \n    & img {\n        width: 100%;\n        object-fit: cover;\n        object-position: center;\n        height:160px;\n    }\n"]))),w=f.ZP.div(o||(o=d(["\n    padding: 20px;\n    & h3 {\n        font-weight:800;\n        font-size: 25px;\n        color:var(--color-text);\n    }\n"]))),E=f.ZP.div(i||(i=d(["\n    margin-top: 10px;\n    & p {\n        font-weight:600;\n        font-size:18px;\n        color:var(--color-text)\n    }\n    & span {\n        font-weight:300;\n        font-size:16px;\n        color:var(--color-text)\n    }\n"])));function O(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function j(){return j=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},j.apply(this,arguments)}var P,C,S,k,A=(0,l.memo)((function(e){var n=e.data,r=e.isLoading,t=e.error,a=e.filteredValue;return l.createElement(R,null,l.createElement("div",{className:"container"},l.createElement(q,null,r?l.createElement(z,null):t?l.createElement(Z,null,"Error on server side, please retry "):null!=a&&a.error?l.createElement(Z,null,"No such countries "):(null==a?void 0:a.length)>0?a.map((function(e){return l.createElement(b,j({},e,{key:e.name}))})):(null==n?void 0:n.pages.length)>0&&n.pages.map((function(e){return e.map((function(e){return l.createElement(b,j({},e,{key:e.name}))}))})))))})),R=f.ZP.section(m||(m=O(["\n    margin-top:20px;\n"]))),q=f.ZP.div(v||(v=O(["\n    display: grid;\n    grid-template-columns: repeat(1,270px);\n    justify-content: center;\n    position:relative;\n    gap:2em;\n    @media(min-width:600px) {\n        grid-template-columns: repeat(2,1fr);\n        gap: 3em;\n    }\n    @media(min-width:930px) {\n        grid-template-columns: repeat(3,1fr);\n    }\n    @media(min-width:1230px) {\n        grid-template-columns: repeat(4,1fr);\n    }    \n\n"]))),z=f.ZP.div(g||(g=O(['\n    position: absolute;\n    left:50%;\n    transform: translate(-50%);\n    display: inline-block;\n    width: 80px;\n    height: 80px;\n    &:after {\n        content: " ";\n        display: block;\n        width: 64px;\n        height: 64px;\n        margin: 8px;\n        border-radius: 50%;\n        border: 6px solid var(--color-search);\n        border-color: var(--color-search) transparent var(--color-search) transparent;\n        animation: lds-dual-ring 1.2s linear infinite;\n    }\n    @keyframes lds-dual-ring {\n        0% {\n            transform: rotate(0deg);\n        }\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n']))),Z=f.ZP.p(h||(h=O(["\n    position: absolute;\n    left:50%;\n    transform: translate(-50%);\n"]))),N=r(8193),I=r(3741);function B(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function D(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?B(Object(r),!0).forEach((function(n){L(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function L(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function T(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var V=[{value:"Africa",label:"Africa"},{value:"Americas",label:"America"},{value:"Asia",label:"Asia"},{value:"Europe",label:"Europe"},{value:"Oceania",label:"Oceania"}],U=function(e){var n=e.nameSearch,r=e.setNameSearch,t=e.setRegionSearch;return l.createElement(F,null,l.createElement("div",{className:"container"},l.createElement(M,null,l.createElement(Q,null,l.createElement(N.RB5,null),l.createElement("input",{onChange:function(e){r(e.target.value)},value:n,placeholder:"Search for a country...",type:"text"})),l.createElement(Y,{isSearchable:!1,placeholder:"Filter by region",isClearable:!0,onChange:t,options:V}))))},F=f.ZP.div(P||(P=T(["\n    margin-top:20px;\n    @media(min-width:530px) {\n        margin-top: 40px;\n    }\n\n"]))),M=f.ZP.div(C||(C=T(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    @media(max-width:550px) {\n        flex-direction: column;\n        align-items: flex-start;\n    }\n"]))),Q=f.ZP.div(S||(S=T(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color:var(--color-bg);\n    box-shadow:var(--shadow);\n    padding: 31px;\n    position: relative;\n    width: 304px;\n    @media(max-width:550px) {\n        width: 280px;\n    }\n    border-radius:9px;\n        & svg {\n            position: absolute;\n            top: 50%;\n            left: 15px;\n            z-index: 3;\n            transform: translateY(-50%);\n            fill:var( --color-search);\n\n        }\n        & input {\n            background-color:var(--color-bg);\n            position: absolute;\n            top:0;\n            left:0;\n            padding-left: 45px;\n            border: 1px solid var(--color-bg);\n            width: 100%;\n            height: 100%;\n            border-radius: 9px;\n            user-select: none;\n            color: var(--color-text);\n            ::placeholder{\n                color: var(--color-text);\n            }\n            &:focus {\n                border:1px solid#0d0709;\n            }\n}\n"]))),Y=(0,f.ZP)(I.ZP).attrs({styles:{option:function(e,n){return D(D({},e),{},{cursor:"pointer",backgroundColor:(n.isSelected,"var(--color-bg)"),color:"var(--color-text)",":active":D(D({},e[":active"]),{},{backgroundColor:"var(--color-bg-alpha)"})})},control:function(e){return D(D({},e),{},{border:"1px solid var(--color-bg)",boxShadow:"var(--shadow)","&:hover":{borderColor:"none"},padding:"14px",borderRadius:"9px",backgroundColor:"var(--color-bg)",color:"var(--color-text)",cursor:"pointer"})},singleValue:function(e){return D(D({},e),{},{color:"var(--color-text)"})},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e){return D(D({},e),{},{color:"var(--color-search)"})},placeholder:function(e){return D(D({},e),{},{color:"var(--color-text)"})}}})(k||(k=T(["\n    @media(max-width:550px) {\n        margin-top:20px;\n    }\n    & > div[id] {\n        background-color:var(--color-bg)\n    }\n    & .css-tlfecz-indicatorContainer  svg {\n        fill:var(--color-search)\n    }\n"]))),$=r(131);function _(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return H(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function G(e,n,r,t,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?n(u):Promise.resolve(u).then(t,a)}function J(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){G(o,t,a,i,l,"next",e)}function l(e){G(o,t,a,i,l,"throw",e)}i(void 0)}))}}function K(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return W(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var X=function(){var e=(0,$.YD)(),n=e.ref,r=e.inView,t=K((0,l.useState)(20),2),a=t[0],o=t[1],i=(0,c.useInfiniteQuery)("countries",function(){var e=J(regeneratorRuntime.mark((function e(n){var r,t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.pageParam,t=void 0===r?0:r,e.next=3,(0,p.v9)(t,a);case 3:return i=e.sent,o(a+20),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),s=i.data,f=i.fetchNextPage,d=i.isLoading,m=i.error,v=(i.hasNextPage,K((0,l.useState)(""),2)),g=v[0],h=v[1],b=function(e,n){var r=_((0,l.useState)(e),2),t=r[0],a=r[1];return(0,l.useEffect)((function(){if(""===e)return a("");var r=setTimeout((function(){a(e)}),n);return function(){clearTimeout(r)}}),[e,n]),t}(g,500),y=K((0,l.useState)({value:"",label:""}),2),x=y[0],w=y[1],E=(0,c.useQuery)(["filteredCountries",b,(null==x?void 0:x.value)||"all"],J(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b||x.value){e.next=2;break}return e.abrupt("return",[]);case 2:return n=(0,p.C5)(b,null==x?void 0:x.value),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))),O=E.data;return(0,l.useEffect)((function(){r&&(null==s?void 0:s.pages[s.pages.length-1].length)>0&&0===O.length&&f({pageParam:a-20})}),[r]),l.createElement(l.Fragment,null,l.createElement(u.q,null,l.createElement("title",null,"Home")),l.createElement(U,{nameSearch:g,setNameSearch:h,setRegionSearch:w}),l.createElement(A,{data:s,filteredValue:O,isLoading:d,error:m}),l.createElement("div",{ref:n}))}}}]);